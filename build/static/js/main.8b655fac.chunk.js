(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(2),o=a.n(l),c=(a(13),a(3));const i="1lbxgwy4MAWow2EMb0d4d6hUT2oxKktlxCv8kmFYxveg";var s=()=>{var e;const[t,a]=Object(n.useState)([]),[l,o]=Object(n.useState)([]),[s,u]=Object(n.useState)(!0),[p,d]=Object(n.useState)(null),[m,h]=Object(n.useState)(""),[b,y]=Object(n.useState)(""),[g,v]=Object(n.useState)({barcode:"",title:"",author:"",publisher:"",price:"",category:""}),E=Object(n.useCallback)(async()=>{if(b){u(!0);try{var e;const t=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${i}/values/Sayfa1!A1:Z999?access_token=${b}`),n=await t.json();a(n.values||[]),o((null===(e=n.values)||void 0===e?void 0:e.slice(1))||[]),u(!1)}catch(t){d("Veri \xe7ekilirken bir hata olu\u015ftu"),u(!1)}}},[b]);Object(n.useEffect)(()=>{E()},[b,E]),Object(n.useEffect)(()=>{const e=t.slice(1).filter(e=>e.some(e=>e.toLowerCase().includes(m.toLowerCase())));o(e)},[m,t]);const x=e=>{const{name:t,value:a}=e.target;v({...g,[t]:a})};return s?r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},"Y\xfckleniyor..."):p?r.a.createElement("div",{style:{color:"red",textAlign:"center"}},p):r.a.createElement("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px"}},r.a.createElement("h1",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"20px"}},"Google Sheets Verileri"),r.a.createElement(c.GoogleLogin,{clientId:"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",buttonText:"Google ile Giri\u015f Yap",onSuccess:e=>{y(e.accessToken),E()},onFailure:e=>{console.error("Giri\u015f ba\u015far\u0131s\u0131z:",e),d("Giri\u015f ba\u015far\u0131s\u0131z. L\xfctfen tekrar deneyin.")},cookiePolicy:"single_host_origin"}),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("h2",null,"Yeni \xdcr\xfcn Ekle"),r.a.createElement("input",{type:"text",name:"barcode",placeholder:"Barkod",value:g.barcode,onChange:x}),r.a.createElement("input",{type:"text",name:"title",placeholder:"Kitap Ad\u0131",value:g.title,onChange:x}),r.a.createElement("input",{type:"text",name:"author",placeholder:"Yazar",value:g.author,onChange:x}),r.a.createElement("input",{type:"text",name:"publisher",placeholder:"Yay\u0131n Evi",value:g.publisher,onChange:x}),r.a.createElement("input",{type:"number",name:"price",placeholder:"Fiyat",value:g.price,onChange:x}),r.a.createElement("input",{type:"text",name:"category",placeholder:"Kategori",value:g.category,onChange:x}),r.a.createElement("button",{onClick:async()=>{const e={range:"Sayfa1!A1",majorDimension:"ROWS",values:[[g.barcode,g.title,g.author,g.publisher,g.price,g.category]]};try{const t=await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${i}/values/Sayfa1!A1:append?valueInputOption=RAW&access_token=${b}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.text();return console.error("\xdcr\xfcn eklenirken bir hata olu\u015ftu:",e),void d("\xdcr\xfcn eklenirken bir hata olu\u015ftu")}v({barcode:"",title:"",author:"",publisher:"",price:"",category:""}),E()}catch(p){console.error("\xdcr\xfcn eklenirken bir hata olu\u015ftu:",p),d("\xdcr\xfcn eklenirken bir hata olu\u015ftu")}}},"Ekle")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},r.a.createElement("input",{type:"text",placeholder:"Ara...",value:m,onChange:e=>{h(e.target.value)},style:{padding:"10px",border:"1px solid #ccc",borderRadius:"4px"}}),r.a.createElement("button",{onClick:()=>{E()},style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}},"Yenile")),r.a.createElement("table",{style:{width:"100%",borderCollapse:"collapse"}},r.a.createElement("thead",null,r.a.createElement("tr",null,null===(e=t[0])||void 0===e?void 0:e.map((e,t)=>r.a.createElement("th",{key:t,style:{border:"1px solid #ddd",padding:"12px",backgroundColor:"#f2f2f2"}},e)))),r.a.createElement("tbody",null,l.map((e,t)=>r.a.createElement("tr",{key:t},e.map((e,t)=>r.a.createElement("td",{key:t,style:{border:"1px solid #ddd",padding:"12px"}},e)))))),0===l.length&&r.a.createElement("div",{style:{textAlign:"center",marginTop:"20px"}},"Sonu\xe7 bulunamad\u0131."))};var u=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s,null))};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u,null)))},4:function(e,t,a){e.exports=a(14)}},[[4,1,2]]]);
//# sourceMappingURL=main.8b655fac.chunk.js.map