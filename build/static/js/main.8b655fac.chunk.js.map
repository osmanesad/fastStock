{"version":3,"sources":["GoogleSheetsApp.js","App.js","index.js"],"names":["SHEET_ID","GoogleSheetsApp","_data$","data","setData","useState","filteredData","setFilteredData","loading","setLoading","error","setError","searchTerm","setSearchTerm","accessToken","setAccessToken","newProduct","setNewProduct","barcode","title","author","publisher","price","category","fetchData","useCallback","async","_result$values","response","fetch","result","json","values","slice","err","useEffect","filtered","filter","row","some","cell","toLowerCase","includes","handleInputChange","event","name","value","target","React","createElement","style","display","justifyContent","alignItems","height","color","textAlign","maxWidth","margin","padding","fontSize","fontWeight","marginBottom","GoogleLogin","clientId","buttonText","onSuccess","onFailure","console","cookiePolicy","type","placeholder","onChange","onClick","body","range","majorDimension","method","headers","JSON","stringify","ok","errorMessage","text","border","borderRadius","handleRefresh","backgroundColor","cursor","width","borderCollapse","map","header","index","key","rowIndex","cellIndex","length","marginTop","App","className","ReactDOM","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.8b655fac.chunk.js","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { GoogleLogin } from 'react-google-login';\n\nconst SHEET_ID = '1lbxgwy4MAWow2EMb0d4d6hUT2oxKktlxCv8kmFYxveg';\nconst CLIENT_ID = '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'; // Buraya kendi Client ID'nizi yazın\n\nconst GoogleSheetsApp = () => {\n  const [data, setData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [accessToken, setAccessToken] = useState('');\n\n  const [newProduct, setNewProduct] = useState({\n    barcode: '',\n    title: '',\n    author: '',\n    publisher: '',\n    price: '',\n    category: '',\n  });\n\n  // fetchData fonksiyonu useCallback ile sarmalanıyor\n  const fetchData = useCallback(async () => {\n    if (!accessToken) return; // Erişim belirteci yoksa veri çekme\n\n    setLoading(true);\n    try {\n      const response = await fetch(\n        `https://sheets.googleapis.com/v4/spreadsheets/${SHEET_ID}/values/Sayfa1!A1:Z999?access_token=${accessToken}`\n      );\n      const result = await response.json();\n      setData(result.values || []);\n      setFilteredData(result.values?.slice(1) || []);\n      setLoading(false);\n    } catch (err) {\n      setError('Veri çekilirken bir hata oluştu');\n      setLoading(false);\n    }\n  }, [accessToken]);\n\n  useEffect(() => {\n    fetchData();\n  }, [accessToken, fetchData]);\n\n  useEffect(() => {\n    const filtered = data.slice(1).filter(row =>\n      row.some(cell =>\n        cell.toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    );\n    setFilteredData(filtered);\n  }, [searchTerm, data]);\n\n  const handleRefresh = () => {\n    fetchData();\n  };\n\n  const handleSearch = (event) => {\n    setSearchTerm(event.target.value);\n  };\n\n  const handleAddProduct = async () => {\n    const values = [\n      newProduct.barcode,\n      newProduct.title,\n      newProduct.author,\n      newProduct.publisher,\n      newProduct.price,\n      newProduct.category,\n    ];\n\n    const body = {\n      range: \"Sayfa1!A1\",\n      majorDimension: \"ROWS\",\n      values: [values],\n    };\n\n    try {\n      const response = await fetch(\n        `https://sheets.googleapis.com/v4/spreadsheets/${SHEET_ID}/values/Sayfa1!A1:append?valueInputOption=RAW&access_token=${accessToken}`,\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify(body),\n        }\n      );\n\n      if (!response.ok) {\n        const errorMessage = await response.text();\n        console.error('Ürün eklenirken bir hata oluştu:', errorMessage);\n        setError('Ürün eklenirken bir hata oluştu');\n        return;\n      }\n\n      setNewProduct({\n        barcode: '',\n        title: '',\n        author: '',\n        publisher: '',\n        price: '',\n        category: '',\n      });\n      fetchData(); // Yenile\n    } catch (error) {\n      console.error('Ürün eklenirken bir hata oluştu:', error);\n      setError('Ürün eklenirken bir hata oluştu');\n    }\n  };\n\n  const handleInputChange = (event) => {\n    const { name, value } = event.target;\n    setNewProduct({ ...newProduct, [name]: value });\n  };\n\n  const onSuccess = (response) => {\n    setAccessToken(response.accessToken); // Erişim belirtecini kaydet\n    fetchData(); // Başarılı giriş sonrası verileri çek\n  };\n\n  const onFailure = (response) => {\n    console.error('Giriş başarısız:', response);\n    setError('Giriş başarısız. Lütfen tekrar deneyin.');\n  };\n\n  if (loading) return <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>Yükleniyor...</div>;\n  if (error) return <div style={{ color: 'red', textAlign: 'center' }}>{error}</div>;\n\n  return (\n    <div style={{ maxWidth: '1200px', margin: '0 auto', padding: '20px' }}>\n      <h1 style={{ fontSize: '24px', fontWeight: 'bold', marginBottom: '20px' }}>Google Sheets Verileri</h1>\n\n      {/* Google Giriş */}\n      <GoogleLogin\n        clientId={CLIENT_ID}\n        buttonText=\"Google ile Giriş Yap\"\n        onSuccess={onSuccess}\n        onFailure={onFailure}\n        cookiePolicy={'single_host_origin'}\n      />\n\n      {/* Yeni ürün ekleme formu */}\n      <div style={{ marginBottom: '20px' }}>\n        <h2>Yeni Ürün Ekle</h2>\n        <input type=\"text\" name=\"barcode\" placeholder=\"Barkod\" value={newProduct.barcode} onChange={handleInputChange} />\n        <input type=\"text\" name=\"title\" placeholder=\"Kitap Adı\" value={newProduct.title} onChange={handleInputChange} />\n        <input type=\"text\" name=\"author\" placeholder=\"Yazar\" value={newProduct.author} onChange={handleInputChange} />\n        <input type=\"text\" name=\"publisher\" placeholder=\"Yayın Evi\" value={newProduct.publisher} onChange={handleInputChange} />\n        <input type=\"number\" name=\"price\" placeholder=\"Fiyat\" value={newProduct.price} onChange={handleInputChange} />\n        <input type=\"text\" name=\"category\" placeholder=\"Kategori\" value={newProduct.category} onChange={handleInputChange} />\n        <button onClick={handleAddProduct}>Ekle</button>\n      </div>\n\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <input\n          type=\"text\"\n          placeholder=\"Ara...\"\n          value={searchTerm}\n          onChange={handleSearch}\n          style={{ padding: '10px', border: '1px solid #ccc', borderRadius: '4px' }}\n        />\n        <button onClick={handleRefresh} style={{ padding: '10px 20px', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px', cursor: 'pointer' }}>\n          Yenile\n        </button>\n      </div>\n\n      <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n        <thead>\n          <tr>\n            {data[0]?.map((header, index) => (\n              <th key={index} style={{ border: '1px solid #ddd', padding: '12px', backgroundColor: '#f2f2f2' }}>{header}</th>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {filteredData.map((row, rowIndex) => (\n            <tr key={rowIndex}>\n              {row.map((cell, cellIndex) => (\n                <td key={cellIndex} style={{ border: '1px solid #ddd', padding: '12px' }}>{cell}</td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      {filteredData.length === 0 && (\n        <div style={{ textAlign: 'center', marginTop: '20px' }}>Sonuç bulunamadı.</div>\n      )}\n    </div>\n  );\n};\n\nexport default GoogleSheetsApp;\n","import React from 'react';\nimport GoogleSheetsApp from './GoogleSheetsApp';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <GoogleSheetsApp />\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);"],"sourceRoot":""}